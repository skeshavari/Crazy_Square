<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Phaser - Making your first game, part 1</title>
	    <script src="//cdn.jsdelivr.net/phaser/2.6.2/phaser.min.js"></script>
		<script src="auto.js"></script>
		<script src="kruispunt.js"></script>
		<script src="input.js"></script>
	    <style type="text/css">
	        body {
	            margin: 0;
	        }
	    </style>
	</head>
	<body>
		<script type="text/javascript" src="trafficlight.js"></script>
		<script type="text/javascript">

			var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });
			var red = 0xFF0000, yellow = 0xFFFF00, green = 0x00FF00;

			function preload() {
			}

			var kruispunt;
			var auto;

			var trafficLightSprite;
			var trafficLight = new Object();

			var upKey, downKey, rightKey, leftKey;

			function create() {

				upKey = game.input.keyboard.addKey(Phaser.Keyboard.UP);
				downKey = game.input.keyboard.addKey(Phaser.Keyboard.DOWN);
				rightKey = game.input.keyboard.addKey(Phaser.Keyboard.RIGHT);
				leftKey = game.input.keyboard.addKey(Phaser.Keyboard.LEFT);

				kruispunt = new Kruispunt(game);
				auto = new Auto(game);
				trafficLight = new TrafficLight(red, 225, 125);
				setTimeout(TrafficLight(green, 225, 125), 2000); //fix Timeout so the TL's can be put on a timer!
			}

			function update() {
				updateGamestate(this);
			}

		</script>

	</body>
</html>
